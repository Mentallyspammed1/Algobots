{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/algobots-dashboard/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/googleai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.5-flash',\n  enableDevUI: true,\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;IACP,aAAa;AACf","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/algobots-dashboard/src/lib/cache.ts"],"sourcesContent":["\nconst cache = new Map<string, { value: any; expiry: number }>();\n\nexport function withCache<T extends (...args: any[]) => any>(\n  fn: T,\n  options: { ttl: number; getKey?: (...args: Parameters<T>) => string } = { ttl: 60 * 1000 }\n): (...args: Parameters<T>) => Promise<ReturnType<T>> {\n  return async function (...args: Parameters<T>): Promise<ReturnType<T>> {\n    const key = options.getKey ? options.getKey(...args) : JSON.stringify({ name: fn.name, args });\n    const now = Date.now();\n\n    const cached = cache.get(key);\n    if (cached && now < cached.expiry) {\n      return cached.value;\n    }\n\n    const result = await fn(...args);\n    cache.set(key, { value: result, expiry: now + options.ttl });\n\n    return result;\n  };\n}\n"],"names":[],"mappings":";;;AACA,MAAM,QAAQ,IAAI;AAEX,SAAS,UACd,EAAK,EACL,UAAwE;IAAE,KAAK,KAAK;AAAK,CAAC;IAE1F,OAAO,eAAgB,GAAG,IAAmB;QAC3C,MAAM,MAAM,QAAQ,MAAM,GAAG,QAAQ,MAAM,IAAI,QAAQ,KAAK,SAAS,CAAC;YAAE,MAAM,GAAG,IAAI;YAAE;QAAK;QAC5F,MAAM,MAAM,KAAK,GAAG;QAEpB,MAAM,SAAS,MAAM,GAAG,CAAC;QACzB,IAAI,UAAU,MAAM,OAAO,MAAM,EAAE;YACjC,OAAO,OAAO,KAAK;QACrB;QAEA,MAAM,SAAS,MAAM,MAAM;QAC3B,MAAM,GAAG,CAAC,KAAK;YAAE,OAAO;YAAQ,QAAQ,MAAM,QAAQ,GAAG;QAAC;QAE1D,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/algobots-dashboard/src/lib/bybit-api.ts"],"sourcesContent":["import { z } from 'zod';\nimport { withCache } from './cache';\n\n// #region Zod Schemas and Types\nexport const TickerInfoSchema = z.object({\n  lastPrice: z.string(),\n  highPrice24h: z.string(),\n  lowPrice24h: z.string(),\n  turnover24h: z.string(),\n  volume24h: z.string(),\n  price24hPcnt: z.string(),\n});\nexport type TickerInfo = z.infer<typeof TickerInfoSchema>;\n\nexport const OrderBookEntrySchema = z.tuple([z.string(), z.string()]);\nexport type OrderBookEntry = z.infer<typeof OrderBookEntrySchema>;\n\nexport const OrderBookSchema = z.object({\n  bids: z.array(OrderBookEntrySchema),\n  asks: z.array(OrderBookEntrySchema),\n  ts: z.string(),\n});\nexport type OrderBook = z.infer<typeof OrderBookSchema>;\n\nexport const RecentTradeSchema = z.object({\n  execId: z.string(),\n  execTime: z.union([z.string(), z.number()]),\n  price: z.string(),\n  qty: z.string(),\n  side: z.enum(['Buy', 'Sell']),\n  isBlockTrade: z.boolean().optional(),\n});\nexport type RecentTrade = z.infer<typeof RecentTradeSchema>;\n\nexport const KlineEntrySchema = z.object({\n    time: z.number(),\n    open: z.number(),\n    high: z.number(),\n    low: z.number(),\n    close: z.number(),\n    volume: z.number(),\n    turnover: z.number(),\n});\nexport type KlineEntry = z.infer<typeof KlineEntrySchema>;\n\n// #endregion\n\n// #region Constants\nexport const BYBIT_WEBSOCKET_URL = 'wss://stream.bybit.com/v5/public/linear';\nexport const DEFAULT_REQUEST_TIMEOUT = 10000;\nconst MAX_RETRIES = 3;\nconst RETRY_DELAY_MS = 1000;\nconst API_CATEGORY = 'linear';\n// #endregion\n\ninterface ApiResponse<T> {\n  retCode: number;\n  retMsg: string;\n  result: T;\n  time: number;\n}\n\nasync function fetchWithRetry(\n  url: string, \n  options: RequestInit = {}\n): Promise<any | null> {\n  \n  const controller = new AbortController();\n  const timeoutId = setTimeout(() => controller.abort(), DEFAULT_REQUEST_TIMEOUT);\n  \n  const fetchOptions: RequestInit = {\n    cache: 'no-store',\n    signal: options.signal || controller.signal,\n    headers: { 'Content-Type': 'application/json', ...options.headers },\n    ...options\n  };\n\n  for (let i = 0; i <= MAX_RETRIES; i++) {\n    try {\n      const response = await fetch(url, fetchOptions);\n      clearTimeout(timeoutId);\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      if (data.retCode !== 0) throw new Error(data.retMsg);\n      return data;\n    } catch (error) {\n      clearTimeout(timeoutId);\n      if (i === MAX_RETRIES) {\n        console.error(`Failed to fetch from Bybit endpoint ${url} after ${MAX_RETRIES} retries:`, error);\n        return null;\n      }\n      await new Promise(res => setTimeout(res, RETRY_DELAY_MS * Math.pow(2, i)));\n    }\n  }\n  return null;\n}\n\nconst intervalMap: Record<string, string> = {\n  '1m': '1', '5m': '5', '15m': '15', '30m': '30', '1h': '60',\n  '2h': '120', '4h': '240', '6h': '360', '12h': '720', '1d': 'D',\n  '1w': 'W', '1M': 'M',\n};\n\nclass BybitAPI {\n  private config: { baseUrl: string };\n\n  constructor(config: { baseUrl: string }) {\n    this.config = config;\n  }\n\n  private async get(endpoint: string, params?: Record<string, any>): Promise<any> {\n    const url = new URL(this.config.baseUrl + endpoint);\n    if(params) {\n        Object.keys(params).forEach(key => url.searchParams.append(key, params[key]));\n    }\n    \n    const cachedFetch = withCache(fetchWithRetry, {\n      ttl: endpoint.includes('kline') ? 60000 : 10000,\n      getKey: (url: string) => url,\n    });\n    \n    return cachedFetch(url.toString());\n  }\n\n  public async fetchHistoricalData(symbol: string, timeframe: string, limit: number = 200): Promise<any> {\n    const interval = intervalMap[timeframe] || timeframe;\n    return this.get('/v5/market/kline', { category: API_CATEGORY, symbol, interval, limit });\n  }\n\n  public async fetchMarketData(symbol: string): Promise<any> {\n    return this.get('/v5/market/tickers', { category: API_CATEGORY, symbol });\n  }\n\n  public async fetchOrderBook(symbol: string, limit: number = 50): Promise<any> {\n    return this.get('/v5/market/orderbook', { category: API_CATEGORY, symbol, limit });\n  }\n\n  public async fetchRecentTrades(symbol: string, limit: number = 50): Promise<any> {\n    return this.get('/v5/market/recent-trade', { category: API_CATEGORY, symbol, limit });\n  }\n}\n\nconst api = new BybitAPI({ baseUrl: 'https://api.bybit.com' });\n\nexport const getTicker = async (symbol: string): Promise<TickerInfo | null> => {\n    const data = await api.fetchMarketData(symbol);\n    if(data && data.result.list.length > 0) {\n      const ticker = data.result.list[0];\n      const parsed = TickerInfoSchema.safeParse(ticker);\n      if(parsed.success) return parsed.data;\n      console.error(\"Failed to parse TickerInfo:\", parsed.error);\n    }\n    return null;\n}\n\nexport const getOrderBook = async (symbol: string): Promise<OrderBook | null> => {\n    const data = await api.fetchOrderBook(symbol);\n    if(data) {\n        const parsed = OrderBookSchema.safeParse({ bids: data.result.b, asks: data.result.a, ts: data.result.ts });\n        if (parsed.success) return parsed.data;\n        console.error(\"Failed to parse OrderBook:\", parsed.error);\n    }\n    return null;\n}\n\nexport const getRecentTrades = async (symbol: string, limit: number = 30): Promise<RecentTrade[] | null> => {\n    const data = await api.fetchRecentTrades(symbol, limit);\n    if(data && data.result.list) {\n        const parsed = z.array(RecentTradeSchema).safeParse(data.result.list);\n        if (parsed.success) return parsed.data;\n        console.error(\"Failed to parse RecentTrades:\", parsed.error);\n    }\n    return null;\n}\n\nexport const getKline = async (symbol: string, timeframe: string, limit: number = 200): Promise<KlineEntry[] | null> => {\n    const data = await api.fetchHistoricalData(symbol, timeframe, limit);\n    if(data && data.result.list) {\n      const klineData = data.result.list.map((k: string[]) => ({\n        time: parseInt(k[0]), open: parseFloat(k[1]), high: parseFloat(k[2]),\n        low: parseFloat(k[3]), close: parseFloat(k[4]), volume: parseFloat(k[5]), turnover: parseFloat(k[6])\n      })).reverse();\n      const parsed = z.array(KlineEntrySchema).safeParse(klineData);\n      if(parsed.success) return parsed.data;\n      console.error(\"Failed to parse Kline data:\", parsed.error);\n    }\n    return null;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 488, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/algobots-dashboard/src/lib/indicators.ts"],"sourcesContent":["import { z } from 'zod';\nimport type { KlineEntry } from './bybit-api';\nimport { getKline as getKlineFromApi } from './bybit-api';\n\n// #region Schemas and Types\nexport const IndicatorSettings = z.object({\n  rsi: z.object({ period: z.number().int().positive().default(14), overbought: z.number().default(70), oversold: z.number().default(30) }).default({}),\n  macd: z.object({ fast: z.number().int().positive().default(12), slow: z.number().int().positive().default(26), signal: z.number().int().positive().default(9) }).default({}),\n  bollingerBands: z.object({ period: z.number().int().positive().default(20), stdDev: z.number().positive().default(2) }).default({}),\n  stochastic: z.object({ period: z.number().int().positive().default(14), slowing: z.number().int().positive().default(3), overbought: z.number().default(80), oversold: z.number().default(20) }).default({}),\n  atr: z.object({ period: z.number().int().positive().default(14) }).default({}),\n  williamsR: z.object({ period: z.number().int().positive().default(14), overbought: z.number().default(-20), oversold: z.number().default(-80) }).default({}),\n  cci: z.object({ period: z.number().int().positive().default(20), overbought: z.number().default(100), oversold: z.number().default(-100) }).default({}),\n  roc: z.object({ period: z.number().int().positive().default(12) }).default({}),\n  mfi: z.object({ period: z.number().int().positive().default(14), overbought: z.number().default(80), oversold: z.number().default(20) }).default({}),\n  awesomeOscillator: z.object({ fast: z.number().int().positive().default(5), slow: z.number().int().positive().default(34) }).default({}),\n  ichimokuCloud: z.object({ tenkan: z.number().int().positive().default(9), kijun: z.number().int().positive().default(26), senkou: z.number().int().positive().default(52), displacement: z.number().int().positive().default(26) }).default({}),\n  sma: z.object({ period: z.number().int().positive().default(20) }).default({}),\n  supertrendFast: z.object({ atrPeriod: z.number().int().positive().default(10), multiplier: z.number().positive().default(2) }).default({}),\n  supertrendSlow: z.object({ atrPeriod: z.number().int().positive().default(20), multiplier: z.number().positive().default(4) }).default({}),\n  fisher: z.object({ period: z.number().int().positive().default(9) }).default({}),\n  ehlers: z.object({ period: z.number().int().positive().default(10) }).default({}),\n  chandelier: z.object({ period: z.number().int().positive().default(22), multiplier: z.number().positive().default(3) }).default({}),\n});\nexport type IndicatorSettings = z.infer<typeof IndicatorSettings>;\n\nexport const defaultIndicatorSettings: IndicatorSettings = IndicatorSettings.parse({});\n\nconst RsiResultSchema = z.object({ rsi: z.number() });\nconst MacdResultSchema = z.object({ macd: z.number(), signal: z.number(), histogram: z.number() });\nconst BollingerBandsResultSchema = z.object({ upper: z.number(), middle: z.number(), lower: z.number() });\nconst StochasticResultSchema = z.object({ k: z.number(), d: z.number() });\nconst AtrResultSchema = z.object({ atr: z.number() });\nconst ObvResultSchema = z.object({ obv: z.number() });\nconst WilliamsRResultSchema = z.object({ williamsR: z.number() });\nconst CciResultSchema = z.object({ cci: z.number() });\nconst RocResultSchema = z.object({ roc: z.number() });\nconst MfiResultSchema = z.object({ mfi: z.number() });\nconst AwesomeOscillatorResultSchema = z.object({ ao: z.number() });\nconst IchimokuCloudResultSchema = z.object({ tenkanSen: z.number(), kijunSen: z.number(), senkouSpanA: z.number(), senkouSpanB: z.number() });\nconst SmaResultSchema = z.object({ sma: z.number() });\nconst SupertrendResultSchema = z.object({ direction: z.enum(['buy', 'sell']), supertrend: z.number() });\nconst FisherTransformResultSchema = z.object({ fisher: z.number(), trigger: z.number() });\nconst EhlersTrendlineResultSchema = z.object({ trendline: z.number() });\nconst ChandelierExitResultSchema = z.object({ long: z.number(), short: z.number() });\n\n\nexport const IndicatorDataSchema = z.object({\n    rsi: RsiResultSchema.optional(),\n    macd: MacdResultSchema.optional(),\n    bollingerBands: BollingerBandsResultSchema.optional(),\n    stochastic: StochasticResultSchema.optional(),\n    atr: AtrResultSchema.optional(),\n    obv: ObvResultSchema.optional(),\n    williamsR: WilliamsRResultSchema.optional(),\n    cci: CciResultSchema.optional(),\n    roc: RocResultSchema.optional(),\n    mfi: MfiResultSchema.optional(),\n    awesomeOscillator: AwesomeOscillatorResultSchema.optional(),\n    ichimokuCloud: IchimokuCloudResultSchema.optional(),\n    sma: SmaResultSchema.optional(),\n    supertrendFast: SupertrendResultSchema.optional(),\n    supertrendSlow: SupertrendResultSchema.optional(),\n    fisher: FisherTransformResultSchema.optional(),\n    ehlers: EhlersTrendlineResultSchema.optional(),\n    chandelier: ChandelierExitResultSchema.optional(),\n});\nexport type IndicatorData = z.infer<typeof IndicatorDataSchema>;\n// #endregion\n\n// Export getKline for external use (e.g. in actions.ts)\nexport const getKline = getKlineFromApi;\n\n// #region Calculation Utilities\nfunction sma(data: number[], period: number): (number | null)[] {\n    if (data.length < period) return new Array(data.length).fill(null);\n    \n    const results: (number | null)[] = new Array(period - 1).fill(null);\n    let sum = 0;\n    for (let i = 0; i < period; i++) {\n        sum += data[i];\n    }\n    results.push(sum / period);\n\n    for (let i = period; i < data.length; i++) {\n        sum += data[i] - data[i - period];\n        results.push(sum / period);\n    }\n    return results;\n}\n\nfunction ema(data: number[], period: number): (number | null)[] {\n    if (data.length < period) return new Array(data.length).fill(null);\n    \n    const results: (number | null)[] = [];\n    const multiplier = 2 / (period + 1);\n    \n    let sum = 0;\n    for (let i = 0; i < period; i++) {\n        sum += data[i];\n        results.push(null);\n    }\n    \n    let prevEma = sum / period;\n    results[period - 1] = prevEma;\n\n    for (let i = period; i < data.length; i++) {\n        const emaValue = (data[i] - prevEma) * multiplier + prevEma;\n        results.push(emaValue);\n        prevEma = emaValue;\n    }\n    return results;\n}\n\nabstract class Indicator<T = number | object | null> {\n    protected data: KlineEntry[];\n    constructor(data: KlineEntry[]) { this.data = data; }\n    abstract calculate(): (T | null)[];\n    \n    public getResult(): T | undefined {\n        const results = this.calculate();\n        const lastResult = results.length > 0 ? results[results.length - 1] : null;\n\n        if (lastResult === null || lastResult === undefined) return undefined;\n\n        if (typeof lastResult === 'object') {\n            for (const key in lastResult) {\n                const value = (lastResult as any)[key];\n                if (typeof value === 'number' && (isNaN(value) || !isFinite(value))) {\n                    return undefined;\n                }\n            }\n        } else if (typeof lastResult === 'number' && (isNaN(lastResult) || !isFinite(lastResult))) {\n            return undefined;\n        }\n\n        return lastResult as T;\n    }\n}\n// #endregion\n\n// #region Indicator Classes\nclass SMA extends Indicator<z.infer<typeof SmaResultSchema>> {\n    constructor(data: KlineEntry[], private period: number) { super(data); }\n    calculate(): (z.infer<typeof SmaResultSchema> | null)[] {\n        const closes = this.data.map(d => d.close);\n        const smaValues = sma(closes, this.period);\n        return smaValues.map(s => s === null ? null : { sma: s });\n    }\n}\n\nclass RSI extends Indicator<z.infer<typeof RsiResultSchema>> {\n    constructor(data: KlineEntry[], private period: number) { super(data); }\n    calculate(): (z.infer<typeof RsiResultSchema> | null)[] {\n        const closes = this.data.map(d => d.close);\n        if (closes.length <= this.period) return new Array(closes.length).fill(null);\n\n        const results: (z.infer<typeof RsiResultSchema> | null)[] = new Array(this.period).fill(null);\n        let gains = 0, losses = 0;\n\n        for (let i = 1; i <= this.period; i++) {\n            const diff = closes[i] - closes[i - 1];\n            if (diff > 0) gains += diff;\n            else losses -= diff;\n        }\n\n        let avgGain = gains / this.period;\n        let avgLoss = losses / this.period;\n\n        let rs = avgLoss !== 0 ? avgGain / avgLoss : 0;\n        results.push({ rsi: 100 - (100 / (1 + rs)) });\n\n        for (let i = this.period + 1; i < closes.length; i++) {\n            const diff = closes[i] - closes[i - 1];\n            let gain = 0, loss = 0;\n            if (diff > 0) gain = diff;\n            else loss = -diff;\n\n            avgGain = (avgGain * (this.period - 1) + gain) / this.period;\n            avgLoss = (avgLoss * (this.period - 1) + loss) / this.period;\n            \n            rs = avgLoss !== 0 ? avgGain / avgLoss : 0;\n            results.push({ rsi: 100 - (100 / (1 + rs)) });\n        }\n        return results;\n    }\n}\n\nclass MACD extends Indicator<z.infer<typeof MacdResultSchema>> {\n    constructor(data: KlineEntry[], private fast: number, private slow: number, private signal: number) { super(data); }\n    calculate(): (z.infer<typeof MacdResultSchema> | null)[] {\n        const closes = this.data.map(d => d.close);\n        const emaFast = ema(closes, this.fast);\n        const emaSlow = ema(closes, this.slow);\n\n        const macdLine = emaFast.map((f, i) => (f === null || emaSlow[i] === null) ? null : f - emaSlow[i]!);\n        const signalLine = ema(macdLine.filter(m => m !== null) as number[], this.signal);\n\n        let signalIdx = 0;\n        return macdLine.map(m => {\n            if (m === null) return null;\n            const signalVal = signalLine[signalIdx];\n            signalIdx++;\n            if (signalVal === null || signalVal === undefined) return null;\n            return { macd: m, signal: signalVal, histogram: m - signalVal };\n        });\n    }\n}\n\nclass BollingerBands extends Indicator<z.infer<typeof BollingerBandsResultSchema>> {\n    constructor(data: KlineEntry[], private period: number, private stdDev: number) { super(data); }\n    calculate(): (z.infer<typeof BollingerBandsResultSchema> | null)[] {\n        const closes = this.data.map(d => d.close);\n        const middleBand = sma(closes, this.period);\n\n        return middleBand.map((mb, i) => {\n            if (mb === null) return null;\n            const slice = closes.slice(i - this.period + 1, i + 1);\n            const variance = slice.reduce((acc, val) => acc + Math.pow(val - mb, 2), 0) / this.period;\n            const sd = Math.sqrt(variance);\n            return { upper: mb + (sd * this.stdDev), middle: mb, lower: mb - (sd * this.stdDev) };\n        });\n    }\n}\n\nclass Stochastic extends Indicator<z.infer<typeof StochasticResultSchema>> {\n    constructor(data: KlineEntry[], private period: number, private slowing: number) { super(data); }\n    calculate(): (z.infer<typeof StochasticResultSchema> | null)[] {\n        const kValues: (number | null)[] = new Array(this.period - 1).fill(null);\n        for (let i = this.period - 1; i < this.data.length; i++) {\n            const slice = this.data.slice(i - this.period + 1, i + 1);\n            const highestHigh = Math.max(...slice.map(d => d.high));\n            const lowestLow = Math.min(...slice.map(d => d.low));\n            const k = lowestLow === highestHigh ? 100 : ((this.data[i].close - lowestLow) / (highestHigh - lowestLow)) * 100;\n            kValues.push(k);\n        }\n        const dValues = sma(kValues.filter(k => k !== null) as number[], this.slowing);\n        \n        let dIdx = 0;\n        return kValues.map(k => {\n            if(k === null) return null;\n            const d = dValues[dIdx];\n            dIdx++;\n            if (d === null || d === undefined) return null;\n            return { k, d };\n        })\n    }\n}\n\nclass ATR extends Indicator<z.infer<typeof AtrResultSchema>> {\n    constructor(data: KlineEntry[], private period: number) { super(data); }\n    calculate(): (z.infer<typeof AtrResultSchema> | null)[] {\n        if (this.data.length < this.period) return new Array(this.data.length).fill(null);\n\n        const trs: number[] = [this.data[0].high - this.data[0].low];\n        for (let i = 1; i < this.data.length; i++) {\n            trs.push(Math.max(\n                this.data[i].high - this.data[i].low,\n                Math.abs(this.data[i].high - this.data[i-1].close),\n                Math.abs(this.data[i].low - this.data[i-1].close)\n            ));\n        }\n        const atrSma = sma(trs, this.period);\n        return atrSma.map(a => a === null ? null : { atr: a });\n    }\n}\n\nclass OBV extends Indicator<z.infer<typeof ObvResultSchema>> {\n    constructor(data: KlineEntry[]) { super(data); }\n    calculate(): (z.infer<typeof ObvResultSchema> | null)[] {\n        if(this.data.length === 0) return [];\n        const results: (z.infer<typeof ObvResultSchema> | null)[] = [{ obv: 0 }];\n        for (let i = 1; i < this.data.length; i++) {\n            const prevObv = results[i-1]!.obv;\n            const close = this.data[i].close;\n            const prevClose = this.data[i - 1].close;\n            const volume = this.data[i].volume;\n            if (close > prevClose) results.push({ obv: prevObv + volume });\n            else if (close < prevClose) results.push({ obv: prevObv - volume });\n            else results.push({ obv: prevObv });\n        }\n        return results;\n    }\n}\n\nclass WilliamsR extends Indicator<z.infer<typeof WilliamsRResultSchema>> {\n    constructor(data: KlineEntry[], private period: number) { super(data); }\n    calculate(): (z.infer<typeof WilliamsRResultSchema> | null)[] {\n        return this.data.map((_, i) => {\n            if (i < this.period - 1) return null;\n            const slice = this.data.slice(i - this.period + 1, i + 1);\n            const highestHigh = Math.max(...slice.map(d => d.high));\n            const lowestLow = Math.min(...slice.map(d => d.low));\n            const r = lowestLow === highestHigh ? -50 : ((highestHigh - this.data[i].close) / (highestHigh - lowestLow)) * -100;\n            return { williamsR: r };\n        });\n    }\n}\n\nclass CCI extends Indicator<z.infer<typeof CciResultSchema>> {\n    constructor(data: KlineEntry[], private period: number) { super(data); }\n    calculate(): (z.infer<typeof CciResultSchema> | null)[] {\n        return this.data.map((_, i) => {\n            if (i < this.period - 1) return null;\n            const slice = this.data.slice(i - this.period + 1, i + 1);\n            const typicalPrices = slice.map(d => (d.high + d.low + d.close) / 3);\n            const smaTp = typicalPrices.reduce((a, b) => a + b, 0) / this.period;\n            const meanDeviation = typicalPrices.reduce((acc, val) => acc + Math.abs(val - smaTp), 0) / this.period;\n            if(meanDeviation === 0) return { cci: 0 };\n            const cci = ((typicalPrices[this.period - 1] - smaTp) / (0.015 * meanDeviation));\n            return { cci };\n        });\n    }\n}\n\nclass ROC extends Indicator<z.infer<typeof RocResultSchema>> {\n    constructor(data: KlineEntry[], private period: number) { super(data); }\n    calculate(): (z.infer<typeof RocResultSchema> | null)[] {\n        const closes = this.data.map(d => d.close);\n        return closes.map((c, i) => {\n            if (i < this.period) return null;\n            const prevClose = closes[i - this.period];\n            if(prevClose === 0) return { roc: 0 };\n            return { roc: ((c - prevClose) / prevClose) * 100 };\n        });\n    }\n}\n\nclass MFI extends Indicator<z.infer<typeof MfiResultSchema>> {\n    constructor(data: KlineEntry[], private period: number) { super(data); }\n    calculate(): (z.infer<typeof MfiResultSchema> | null)[] {\n        const typicalPrices = this.data.map(d => (d.high + d.low + d.close) / 3);\n        const rawMoneyFlow = typicalPrices.map((tp, i) => tp * this.data[i].volume);\n\n        const posMoneyFlow: number[] = [], negMoneyFlow: number[] = [];\n        for (let i = 1; i < typicalPrices.length; i++) {\n            if (typicalPrices[i] > typicalPrices[i-1]) {\n                posMoneyFlow.push(rawMoneyFlow[i]);\n                negMoneyFlow.push(0);\n            } else {\n                posMoneyFlow.push(0);\n                negMoneyFlow.push(rawMoneyFlow[i]);\n            }\n        }\n        \n        const results: (z.infer<typeof MfiResultSchema> | null)[] = new Array(this.period).fill(null);\n\n        for (let i = this.period; i < typicalPrices.length; i++) {\n            const posSum = posMoneyFlow.slice(i - this.period, i).reduce((a, b) => a + b, 0);\n            const negSum = negMoneyFlow.slice(i - this.period, i).reduce((a, b) => a + b, 0);\n            if (negSum === 0) {\n                 results.push({ mfi: 100 });\n                 continue;\n            }\n            const moneyRatio = posSum / negSum;\n            results.push({ mfi: 100 - (100 / (1 + moneyRatio)) });\n        }\n        return results;\n    }\n}\n\nclass AwesomeOscillator extends Indicator<z.infer<typeof AwesomeOscillatorResultSchema>> {\n    constructor(data: KlineEntry[], private fast: number, private slow: number) { super(data); }\n    calculate(): (z.infer<typeof AwesomeOscillatorResultSchema> | null)[] {\n        const midpoints = this.data.map(d => (d.high + d.low) / 2);\n        const smaFast = sma(midpoints, this.fast);\n        const smaSlow = sma(midpoints, this.slow);\n        return smaSlow.map((s, i) => {\n            if (s === null || smaFast[i] === null) return null;\n            return { ao: smaFast[i]! - s };\n        });\n    }\n}\n\nclass IchimokuCloud extends Indicator<z.infer<typeof IchimokuCloudResultSchema>> {\n    constructor(data: KlineEntry[], private tenkan: number, private kijun: number, private senkou: number) { super(data); }\n    calculate(): (z.infer<typeof IchimokuCloudResultSchema> | null)[] {\n        const results: (z.infer<typeof IchimokuCloudResultSchema> | null)[] = [];\n        for (let i = 0; i < this.data.length; i++) {\n            const tenkanSen = this.getTenkan(i);\n            const kijunSen = this.getKijun(i);\n            const senkouSpanA = (tenkanSen !== null && kijunSen !== null) ? (tenkanSen + kijunSen) / 2 : null;\n            const senkouSpanB = this.getSenkouB(i);\n            results.push( tenkanSen === null ? null : { tenkanSen, kijunSen, senkouSpanA, senkouSpanB });\n        }\n        return results;\n    }\n    private getTenkan(i: number) {\n        if (i < this.tenkan - 1) return null;\n        const slice = this.data.slice(i - this.tenkan + 1, i + 1);\n        const high = Math.max(...slice.map(d => d.high));\n        const low = Math.min(...slice.map(d => d.low));\n        return (high + low) / 2;\n    }\n    private getKijun(i: number) {\n        if (i < this.kijun - 1) return null;\n        const slice = this.data.slice(i - this.kijun + 1, i + 1);\n        const high = Math.max(...slice.map(d => d.high));\n        const low = Math.min(...slice.map(d => d.low));\n        return (high + low) / 2;\n    }\n    private getSenkouB(i: number) {\n        if (i < this.senkou - 1) return null;\n        const slice = this.data.slice(i - this.senkou + 1, i + 1);\n        const high = Math.max(...slice.map(d => d.high));\n        const low = Math.min(...slice.map(d => d.low));\n        return (high + low) / 2;\n    }\n}\n\nclass Supertrend extends Indicator<z.infer<typeof SupertrendResultSchema>> {\n    constructor(data: KlineEntry[], private period: number, private multiplier: number) { super(data); }\n    calculate(): (z.infer<typeof SupertrendResultSchema> | null)[] {\n        const atrIndicator = new ATR(this.data, this.period);\n        const atrs = atrIndicator.calculate();\n        const results: (z.infer<typeof SupertrendResultSchema> | null)[] = new Array(this.data.length).fill(null);\n        let direction: 'buy' | 'sell' = 'buy';\n        let upperBand = 0, lowerBand = 0, supertrend = 0;\n\n        for (let i = this.period; i < this.data.length; i++) {\n            const close = this.data[i].close;\n            const high = this.data[i].high;\n            const low = this.data[i].low;\n            const atrResult = atrs[i];\n\n            if (atrResult === null) continue;\n            const atr = atrResult.atr;\n\n            const prevResult = results[i-1];\n            const prevSupertrend = prevResult ? prevResult.supertrend : 0;\n            const prevDirection = prevResult ? prevResult.direction : 'buy';\n\n            upperBand = ((high + low) / 2) + (this.multiplier * atr);\n            lowerBand = ((high + low) / 2) - (this.multiplier * atr);\n            \n            if (prevDirection === 'buy') {\n                if (close < prevSupertrend) {\n                    direction = 'sell';\n                    supertrend = upperBand;\n                } else {\n                    direction = 'buy';\n                    supertrend = Math.max(lowerBand, prevSupertrend);\n                }\n            } else { // 'sell'\n                if (close > prevSupertrend) {\n                    direction = 'buy';\n                    supertrend = lowerBand;\n                } else {\n                    direction = 'sell';\n                    supertrend = Math.min(upperBand, prevSupertrend);\n                }\n            }\n            results[i] = { direction, supertrend };\n        }\n        return results;\n    }\n}\n\n\nclass FisherTransform extends Indicator<z.infer<typeof FisherTransformResultSchema>> {\n    constructor(data: KlineEntry[], private period: number) { super(data); }\n    calculate(): (z.infer<typeof FisherTransformResultSchema> | null)[] {\n        const results: (z.infer<typeof FisherTransformResultSchema> | null)[] = [];\n        let fisherValues: number[] = [];\n        for (let i = 0; i < this.data.length; i++) {\n             if (i < this.period - 1) {\n                results.push(null);\n                continue;\n            }\n            const slice = this.data.slice(i - this.period + 1, i + 1);\n            const highest = Math.max(...slice.map(d => (d.high + d.low)/2));\n            const lowest = Math.min(...slice.map(d => (d.high + d.low)/2));\n            let value = 0.33 * 2 * ((((this.data[i].high + this.data[i].low)/2 - lowest) / (highest - lowest)) - 0.5) + 0.67 * (results[i-1]?.fisher ?? 0);\n            if (value > 0.99) value = 0.999;\n            if (value < -0.99) value = -0.999;\n\n            const fisher = 0.5 * Math.log((1 + value) / (1 - value))\n            fisherValues.push(fisher);\n            const trigger = fisherValues.length > 1 ? fisherValues[fisherValues.length - 2] : 0;\n            results.push({ fisher, trigger });\n        }\n        return results;\n    }\n}\n\nclass EhlersTrendline extends Indicator<z.infer<typeof EhlersTrendlineResultSchema>> {\n    constructor(data: KlineEntry[], private period: number) { super(data); }\n    calculate(): (z.infer<typeof EhlersTrendlineResultSchema> | null)[] {\n        const prices = this.data.map(d => (d.high + d.low) / 2);\n        const trendlines: (number|null)[] = [];\n        for (let i = 0; i < prices.length; i++) {\n             if (i < this.period) {\n                trendlines.push(null);\n                continue;\n            }\n            let sum = 0;\n            for (let j = 0; j < this.period; j++) {\n                sum += prices[i - j] * (j + 1);\n            }\n            trendlines.push(sum / ((this.period * (this.period + 1)) / 2));\n        }\n        return trendlines.map(t => t === null ? null : { trendline: t });\n    }\n}\n\nclass ChandelierExit extends Indicator<z.infer<typeof ChandelierExitResultSchema>> {\n    constructor(data: KlineEntry[], private period: number, private multiplier: number) { super(data); }\n    calculate(): (z.infer<typeof ChandelierExitResultSchema> | null)[] {\n        const atrIndicator = new ATR(this.data, this.period);\n        const atrs = atrIndicator.calculate();\n        const results: (z.infer<typeof ChandelierExitResultSchema> | null)[] = [];\n        \n        for (let i = 0; i < this.data.length; i++) {\n             if (i < this.period || atrs[i] === null) {\n                results.push(null);\n                continue;\n            }\n            const dataSlice = this.data.slice(i - this.period + 1, i + 1);\n            const highestHigh = Math.max(...dataSlice.map(d => d.high));\n            const lowestLow = Math.min(...dataSlice.map(d => d.low));\n            const atr = atrs[i]!.atr;\n\n            results.push({\n                long: highestHigh - atr * this.multiplier,\n                short: lowestLow + atr * this.multiplier,\n            });\n        }\n        return results;\n    }\n}\n// #endregion\n\n// #region Main Calculation Function\nexport function calculateIndicators(data: KlineEntry[], settings: IndicatorSettings): IndicatorData | null {\n  if (data.length === 0) return null;\n\n  return {\n    sma: new SMA(data, settings.sma.period).getResult(),\n    rsi: new RSI(data, settings.rsi.period).getResult(),\n    macd: new MACD(data, settings.macd.fast, settings.macd.slow, settings.macd.signal).getResult(),\n    bollingerBands: new BollingerBands(data, settings.bollingerBands.period, settings.bollingerBands.stdDev).getResult(),\n    stochastic: new Stochastic(data, settings.stochastic.period, settings.stochastic.slowing).getResult(),\n    atr: new ATR(data, settings.atr.period).getResult(),\n    obv: new OBV(data).getResult(),\n    williamsR: new WilliamsR(data, settings.williamsR.period).getResult(),\n    cci: new CCI(data, settings.cci.period).getResult(),\n    roc: new ROC(data, settings.roc.period).getResult(),\n    mfi: new MFI(data, settings.mfi.period).getResult(),\n    awesomeOscillator: new AwesomeOscillator(data, settings.awesomeOscillator.fast, settings.awesomeOscillator.slow).getResult(),\n    ichimokuCloud: new IchimokuCloud(data, settings.ichimokuCloud.tenkan, settings.ichimokuCloud.kijun, settings.ichimokuCloud.senkou).getResult(),\n    supertrendFast: new Supertrend(data, settings.supertrendFast.atrPeriod, settings.supertrendFast.multiplier).getResult(),\n    supertrendSlow: new Supertrend(data, settings.supertrendSlow.atrPeriod, settings.supertrendSlow.multiplier).getResult(),\n    fisher: new FisherTransform(data, settings.fisher.period).getResult(),\n    ehlers: new EhlersTrendline(data, settings.ehlers.period).getResult(),\n    chandelier: new ChandelierExit(data, settings.chandelier.period, settings.chandelier.multiplier).getResult(),\n  };\n}\n// #endregion\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1209, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/algobots-dashboard/src/ai/flows/generate-trading-signal.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview An AI agent that generates trading signals and market analysis using a direct, data-first approach.\n *\n * This version simplifies the AI interaction by gathering all necessary market data upfront\n * and passing it to the AI in a single, comprehensive prompt. This approach enhances\n * reliability and simplifies debugging compared to a multi-tool agentic system.\n *\n * - generateTradingSignal: The main function to generate a trading signal.\n * - GenerateTradingSignalInput: The Zod schema for the input.\n * - GenerateTradingSignalOutput: The Zod schema for the output.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'zod';\nimport { \n  getKline,\n  getOrderBook,\n  getTicker,\n  getRecentTrades\n} from '@/lib/bybit-api';\nimport { \n  IndicatorSettings,\n  calculateIndicators,\n  type IndicatorData\n} from '@/lib/indicators';\n\n// #region Schemas\nconst GenerateTradingSignalInputSchema = z.object({\n  symbol: z.string().describe('The trading symbol (e.g., BTCUSDT).'),\n  timeframe: z.string().describe('Primary timeframe for analysis.'),\n  indicatorSettings: IndicatorSettings.optional().describe('Technical indicator settings.'),\n  riskProfile: z.enum(['conservative', 'moderate', 'aggressive']).default('moderate').describe('User\\'s risk tolerance level.'),\n  accountBalance: z.number().optional().describe('User\\'s account balance for position sizing calculations.'),\n  maxRiskPercentage: z.number().min(0.1).max(10).default(2).describe('Maximum risk per trade as a percentage of account balance.'),\n});\nexport type GenerateTradingSignalInput = z.infer<typeof GenerateTradingSignalInputSchema>;\n\nconst GenerateTradingSignalOutputSchema = z.object({\n  currentPrice: z.number().describe('Current market price at the time of analysis.'),\n  entryPrice: z.number().describe('Recommended entry price for the trade.'),\n  takeProfit: z.array(z.number()).min(1).describe('An array of multiple take-profit levels (e.g., TP1, TP2).'),\n  stopLoss: z.number().describe('The recommended stop-loss price level for risk management.'),\n  signal: z.enum(['Buy', 'Sell', 'Hold']).describe('The final trading signal.'),\n  \n  signalStrength: z.number().min(0).max(100).describe('A data-driven signal strength score from 0 to 100.'),\n  reasoning: z.string().describe('A detailed, step-by-step analysis explaining the rationale behind the signal, referencing specific data points.'),\n  confidenceLevel: z.enum(['High', 'Medium', 'Low']).describe('The AI\\'s confidence in the signal.'),\n  \n  positionSize: z.number().optional().describe('Recommended position size in the base currency (e.g., BTC amount).'),\n  riskRewardRatio: z.number().optional().describe('The calculated risk/reward ratio for the first take-profit level.'),\n  \n  marketRegime: z.enum(['Trending Up', 'Trending Down', 'Ranging', 'Volatile']).describe('The AI\\'s assessment of the current market regime.'),\n  volatilityLevel: z.enum(['Low', 'Medium', 'High', 'Extreme']).describe('The AI\\'s assessment of current market volatility.'),\n  \n  keyLevels: z.object({\n    support: z.array(z.number()).describe('Key support levels identified.'),\n    resistance: z.array(z.number()).describe('Key resistance levels identified.'),\n  }).describe('Key price levels.'),\n  \n  patterns: z.array(z.object({\n    name: z.string().describe('e.g., \"Bullish Flag\", \"Head and Shoulders\"'),\n    reliability: z.number().min(0).max(100).describe('Estimated reliability of the pattern.'),\n  })).optional().describe('Detected chart patterns.'),\n\n  divergences: z.array(z.object({\n    type: z.enum(['Bullish', 'Bearish']).describe('Type of divergence.'),\n    indicator: z.string().describe('Indicator showing divergence (e.g., \"RSI\", \"MACD\").'),\n  })).optional().describe('Detected indicator divergences.'),\n\n  warnings: z.array(z.string()).optional().describe('Important risk warnings or caveats (e.g., \"High volatility expected\", \"Low liquidity\").'),\n  analysisTimestamp: z.string().describe('ISO timestamp of when the analysis was performed.'),\n});\nexport type GenerateTradingSignalOutput = z.infer<typeof GenerateTradingSignalOutputSchema>;\n// #endregion\n\n/**\n * Main exported function to be called by server actions.\n */\nexport async function generateTradingSignal(input: GenerateTradingSignalInput): Promise<GenerateTradingSignalOutput> {\n  return generateTradingSignalFlow(input);\n}\n\n/**\n * Gathers all necessary market data in parallel.\n * @param symbol The trading symbol.\n * @param timeframe The analysis timeframe.\n * @param settings Technical indicator settings.\n * @returns An object containing all fetched market data.\n */\nasync function gatherMarketData(symbol: string, timeframe: string, settings?: IndicatorSettings) {\n  const [tickerResult, klineResult, orderBookResult, tradesResult] = await Promise.allSettled([\n    getTicker(symbol),\n    getKline(symbol, timeframe, 300),\n    getOrderBook(symbol),\n    getRecentTrades(symbol, 50),\n  ]);\n\n  const ticker = tickerResult.status === 'fulfilled' ? tickerResult.value : null;\n  const klineData = klineResult.status === 'fulfilled' ? klineResult.value : null;\n  const orderBook = orderBookResult.status === 'fulfilled' ? orderBookResult.value : null;\n  const recentTrades = tradesResult.status === 'fulfilled' ? tradesResult.value : null;\n\n  let indicators: IndicatorData | null = null;\n  if (klineData) {\n    indicators = calculateIndicators(klineData, settings || {});\n  }\n\n  return { ticker, indicators, orderBook, recentTrades };\n}\n\n// #region AI Prompt\nconst tradingSignalPrompt = ai.definePrompt({\n  name: 'directTradingSignalPrompt',\n  input: { schema: z.any() }, // Input is a stringified context\n  output: { format: 'json', schema: GenerateTradingSignalOutputSchema },\n  system: `You are an elite quantitative trading analyst AI. Your mission is to generate a comprehensive, actionable trading signal by performing a multi-dimensional analysis of the provided market data context.\n\n**Analysis Framework & Logic:**\n\n1.  **Analyze Context:** The user will provide a JSON string containing all available market data. Your first step is to parse and understand this data. Note any fields that are 'null', as this indicates a data fetching failure which should lower your confidence.\n\n2.  **Market Assessment (Fill these fields):**\n    *   **Market Regime:** Analyze indicator trends (e.g., ADX, moving averages) to determine if the market is 'Trending Up', 'Trending Down', 'Ranging', or 'Volatile'.\n    *   **Volatility Level:** Use the ATR (Average True Range) from the indicator data to classify volatility as 'Low', 'Medium', 'High', or 'Extreme'.\n\n3.  **Signal Generation (Determine 'signal'):**\n    *   **Buy Signal:** Strong bullish indicator alignment (e.g., RSI < 40, MACD crossover), price bouncing from key support, bullish patterns confirmed, positive order flow.\n    *   **Sell Signal:** Strong bearish indicator alignment (e.g., RSI > 60, MACD crossunder), price rejecting key resistance, bearish patterns confirmed, negative order flow.\n    *   **Hold Signal:** Conflicting indicators, price is in a tight range between strong support/resistance, market is highly volatile with no clear direction, or critical data is missing.\n\n4.  **Trade Parameters & Risk Management:**\n    *   Set the \\`entryPrice\\` near the \\`currentPrice\\`.\n    *   Set the \\`stopLoss\\` below a key support level for a Buy, or above key resistance for a Sell. Use the ATR to give it some buffer.\n    *   Define at least two \\`takeProfit\\` levels based on upcoming resistance (for Buys) or support (for Sells).\n    *   If \\`accountBalance\\` is available in the input, calculate a \\`positionSize\\` based on the \\`maxRiskPercentage\\`, \\`entryPrice\\`, and \\`stopLoss\\`.\n    *   Calculate the \\`riskRewardRatio\\` for the first TP. It **must be at least 1.5** for a Buy/Sell signal. If not, downgrade to Hold and state this in the reasoning.\n\n5.  **Scoring & Reasoning:**\n    *   **Signal Strength (0-100):** Calculate this score based on the confluence of evidence. Start at 50. Add points for: each confirming indicator (+10), pattern confirmation (+15), strong order book support/resistance (+15), trend alignment (+10). Subtract points for: conflicting indicators (-10), low liquidity (-10), extreme volatility (-10), missing data (-15 per missing source).\n    *   **Confidence Level:** Set to 'High' if strength > 70, 'Medium' if 40-70, 'Low' if < 40.\n    *   **Reasoning:** Write a detailed, step-by-step narrative. Start with the market assessment, discuss the key indicator and pattern findings, mention the identified support/resistance levels, and conclude with how this all justifies the final signal and trade parameters. You must mention any missing data.\n\n6.  **Final Output:**\n    *   Populate all fields in the output schema. Add any \\`warnings\\` for risks like low liquidity or high volatility.\n    *   Set \\`analysisTimestamp\\` to the current UTC ISO string. Your entire output must be a single, valid JSON object.`,\n});\n// #endregion\n\n// #region Genkit Flow\nconst generateTradingSignalFlow = ai.defineFlow(\n    { name: 'generateTradingSignalFlow', inputSchema: GenerateTradingSignalInputSchema, outputSchema: GenerateTradingSignalOutputSchema }, \n    async (input) => {\n        console.log(`[Flow] Starting direct signal generation for ${input.symbol} on ${input.timeframe}.`);\n\n        const { ticker, indicators, orderBook, recentTrades } = await gatherMarketData(input.symbol, input.timeframe, input.indicatorSettings);\n        \n        if (!ticker) {\n            throw new Error(`Critical failure: Could not fetch market ticker for ${input.symbol}. Cannot proceed.`);\n        }\n\n        // Construct a detailed context for the AI\n        const context = {\n            input,\n            data: {\n                ticker,\n                indicators,\n                orderBook,\n                recentTrades\n            }\n        };\n\n        const llmResponse = await tradingSignalPrompt(JSON.stringify(context, null, 2));\n        const output = llmResponse.output;\n\n        if (!output) {\n            throw new Error(\"AI failed to produce a valid JSON response. The model may have returned an empty or malformed output.\");\n        }\n\n        // Final validation and sanitization\n        const requiredNumericFields: (keyof Pick<GenerateTradingSignalOutput, 'currentPrice' | 'entryPrice' | 'stopLoss' | 'signalStrength'>)[] = ['currentPrice', 'entryPrice', 'stopLoss', 'signalStrength'];\n\n        for (const field of requiredNumericFields) {\n            const value = output[field];\n            if (value === null || typeof value !== 'number' || !isFinite(value) || value < 0) {\n                throw new Error(`AI generated an invalid or non-positive numeric value for '${field}'. Received: ${value}`);\n            }\n        }\n        if (!output.takeProfit || output.takeProfit.length === 0 || output.takeProfit.some(tp => typeof tp !== 'number' || tp <= 0)) {\n            throw new Error(`AI generated invalid takeProfit levels. Received: ${JSON.stringify(output.takeProfit)}`);\n        }\n\n        console.log(`[Flow] Successfully generated signal for ${input.symbol}: ${output.signal} (Strength: ${output.signalStrength})`);\n        return output;\n    }\n);\n// #endregion\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1426, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/algobots-dashboard/src/lib/actions.ts"],"sourcesContent":["'use server';\n\nimport { generateTradingSignal, type GenerateTradingSignalInput, type GenerateTradingSignalOutput } from '@/ai/flows/generate-trading-signal';\n\n/**\n * Server action to generate an AI-powered trading signal.\n * This function calls the Genkit flow and handles its response or errors.\n *\n * @param options - The input options for the trading signal generation.\n * @returns An object containing the success status, the analysis, and an optional error message.\n */\nexport async function getAiTradingSignal(options: GenerateTradingSignalInput): Promise<{ success: boolean, analysis?: GenerateTradingSignalOutput, error?: string }> {\n  try {\n    const result = await generateTradingSignal(options);\n    if (!result) {\n        return { success: false, error: 'AI returned no result.' };\n    }\n    return { success: true, analysis: result };\n  } catch (error) {\n    console.error('Error generating AI trading signal:', error);\n    const errorMessage = error instanceof Error ? error.message : 'An unknown error occurred.';\n    return { success: false, error: errorMessage };\n  }\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;AASO,eAAe,mBAAmB,OAAmC;IAC1E,IAAI;QACF,MAAM,SAAS,MAAM,CAAA,GAAA,4KAAA,CAAA,wBAAqB,AAAD,EAAE;QAC3C,IAAI,CAAC,QAAQ;YACT,OAAO;gBAAE,SAAS;gBAAO,OAAO;YAAyB;QAC7D;QACA,OAAO;YAAE,SAAS;YAAM,UAAU;QAAO;IAC3C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uCAAuC;QACrD,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QAC9D,OAAO;YAAE,SAAS;YAAO,OAAO;QAAa;IAC/C;AACF;;;IAZsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 1469, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/algobots-dashboard/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getAiTradingSignal as '40f2e7943f458a31f11946e6fe9708a76aa9d6df9a'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 1521, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/algobots-dashboard/src/app/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/algobots-dashboard/src/app/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/algobots-dashboard/src/app/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuS,GACpU,qEACA","debugId":null}},
    {"offset": {"line": 1535, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/algobots-dashboard/src/app/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/algobots-dashboard/src/app/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/algobots-dashboard/src/app/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmR,GAChT,iDACA","debugId":null}},
    {"offset": {"line": 1549, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}