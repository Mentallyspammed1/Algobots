# Pybit Chandelier Exit Scalper Bot

A Python-based cryptocurrency trading bot designed for aggressive scalping on the Bybit exchange. This bot leverages the Chandelier Exit strategy, enhanced with Exponential Moving Average (EMA) crossovers, Relative Strength Index (RSI), and volume analysis to generate precise trading signals. It supports configurable parameters for risk management, position sizing, and market conditions, operating efficiently within the Termux environment.

## ‚ú® Features

*   **Bybit API Integration**: Connects to Bybit V5 API for linear perpetuals, supporting testnet and dry run modes.
*   **Advanced Technical Analysis**: Implements Chandelier Exit, multiple EMAs (short, long, trend), RSI, and Volume SMA for signal generation.
*   **Dynamic ATR Multiplier**: Adjusts ATR multiplier based on market volatility for adaptive risk management.
*   **Configurable Strategy Parameters**: Easily tune indicator periods, multipliers, RSI levels, and volume thresholds via `config.py`.
*   **Robust Order Management**: Places market, limit, and conditional orders with immediate Take Profit (TP) and Stop Loss (SL) based on calculated risk.
*   **Flexible Position Sizing**: Calculates order quantity based on a configurable risk percentage per trade and a fixed USDT amount.
*   **Margin & Leverage Control**: Automatically sets isolated margin mode and desired leverage for each trading pair.
*   **Time-Based Exit**: Implements a maximum holding period (in candles) to prevent prolonged exposure in scalping trades.
*   **Market Hours Management**: Operates only during specified market open hours, with support for overnight closures.
*   **Colored Logging**: Provides clear, color-coded terminal output for easy monitoring of bot activity, signals, and errors.
*   **Environment Variable Support**: Securely manages API keys and other sensitive settings via a `.env` file.

## üöÄ Installation

1.  **Install Termux**: If you haven't already, install Termux on your Android device.
2.  **Update Termux & Install Python**:
    ```bash
    pkg update && pkg upgrade
    pkg install python python-pip git
    ```
3.  **Clone the Repository**:
    ```bash
    git clone <repository_url> # Replace with your repository URL
    cd pybit # Or the directory where you cloned the bot
    ```
4.  **Install Python Dependencies**:
    ```bash
    pip install -r requirements.txt # You'll need to create this file
    ```
    *(Note: A `requirements.txt` file is not currently in the project structure. You would need to create one with `pandas`, `pandas_ta`, `pybit`, `python-dotenv`, `pytz`, `colorama`, `numpy`)*

## ‚öôÔ∏è Configuration

All bot settings are managed in `bot/config.py` and sensitive API keys in a `.env` file.

1.  **Create `.env` file**: In the `bot/` directory, create a file named `.env` with your Bybit API credentials:
    ```
    BYBIT_API_KEY=YOUR_BYBIT_API_KEY
    BYBIT_API_SECRET=YOUR_BYBIT_API_SECRET
    BYBIT_TESTNET=False # Set to True for testnet trading
    DRY_RUN=True # Set to False to enable live trading
    LOG_LEVEL=INFO # DEBUG, INFO, WARNING, ERROR, CRITICAL
    ```
    *   **IMPORTANT**: Never share your API Secret. Keep your `.env` file secure.
    *   For live trading, set `DRY_RUN=False`. Start with `DRY_RUN=True` to simulate trades without risking real capital.

2.  **Adjust `bot/config.py`**: Open `bot/config.py` and modify the `BOT_CONFIG` dictionary to suit your trading preferences. Key parameters include:
    *   `TRADING_SYMBOLS`: List of symbols to trade (e.g., `["XLMUSDT", "TRUMPUSDT"]`).
    *   `TIMEFRAME`: Candlestick interval in minutes (e.g., `1` for 1-minute scalping).
    *   `LEVERAGE`: Desired leverage for trades.
    *   `ORDER_QTY_USDT`: The value in USDT for each order.
    *   `RISK_PER_TRADE_PCT`: Percentage of capital to risk per trade for position sizing.
    *   `REWARD_RISK_RATIO`: Target Take Profit multiple of Stop Loss distance.
    *   `MARKET_OPEN_HOUR`, `MARKET_CLOSE_HOUR`: Define bot operating hours.
    *   Indicator-specific parameters (`ATR_PERIOD`, `CHANDELIER_MULTIPLIER`, `EMA_SHORT_PERIOD`, etc.).

## ‚ñ∂Ô∏è Usage

To start the bot, navigate to the `bot/` directory and run:

```bash
python chanexit.py
```

Monitor the terminal output for real-time logs, indicator values, and trade signals.

## üìà Strategy Overview (Chandelier Exit Scalping)

The bot employs a Chandelier Exit based scalping strategy with the following core logic:

*   **Trend Filter**: Uses a longer-period EMA (`TREND_EMA_PERIOD`) to determine the overall market trend.
*   **Entry Signals**: Generated by a crossover of shorter-period EMAs (`EMA_SHORT_PERIOD` and `EMA_LONG_PERIOD`), confirmed by RSI (`RSI_PERIOD`) not being in extreme overbought/oversold zones and a significant volume spike.
*   **Risk Management**: Stop Loss (SL) is dynamically set based on ATR (`ATR_PERIOD`) and a configurable multiplier (`CHANDELIER_MULTIPLIER`).
*   **Take Profit (TP)**: Calculated as a multiple of the SL distance, defined by `REWARD_RISK_RATIO`.
*   **Position Sizing**: Determined by `RISK_PER_TRADE_PCT` to manage overall capital exposure.
*   **Dynamic Exits**: Positions are also monitored for a `MAX_HOLDING_CANDLES` limit to ensure quick scalping exits.

## ‚ö†Ô∏è Disclaimer

Cryptocurrency trading involves substantial risk and is not suitable for all investors. The bot is provided for educational and informational purposes only. Past performance is not indicative of future results. You could lose all of your capital. Use at your own risk.