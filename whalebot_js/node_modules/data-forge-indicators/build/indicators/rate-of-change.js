"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var chai_1 = require("chai");
var data_forge_1 = require("data-forge");
/**
 * Compute the rate of change.
 * https://en.wikipedia.org/wiki/Momentum_(technical_analysis)
 * https://www.tradingview.com/wiki/Rate_of_Change_(ROC)
 */
function roc(period) {
    chai_1.assert.isNumber(period, "Expected 'period' parameter to 'Series.roc' to be a number that specifies the time period for computing rate of change.");
    return this.rollingWindow(period)
        .select(function (window) {
        var first = window.first();
        return [
            window.getIndex().last(),
            ((window.last() - first) / first) * 100
        ];
    })
        .withIndex(function (pair) { return pair[0]; })
        .select(function (pair) { return pair[1]; });
}
data_forge_1.Series.prototype.roc = roc;
//# sourceMappingURL=rate-of-change.js.map